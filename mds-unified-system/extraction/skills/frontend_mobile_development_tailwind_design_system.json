{
  "id": "frontend_mobile_development_tailwind_design_system",
  "name": "tailwind-design-system",
  "source": "frontend-mobile-development",
  "originalPath": "plugins/frontend-mobile-development/skills/tailwind-design-system/SKILL.md",
  "activationCriteria": "Build scalable design systems with Tailwind CSS, design tokens, component libraries, and responsive patterns. Use when creating component libraries, implementing design systems, or standardizing UI pa",
  "tier1_metadata": "tailwind-design-system: Build scalable design systems with Tailwind CSS, design tokens, component libraries, and responsive ",
  "tier2_instructions": "# Tailwind Design System\n\nBuild production-ready design systems with Tailwind CSS, including design tokens, component variants, responsive patterns, and accessibility.\n\n## When to Use This Skill\n\n- Creating a component library with Tailwind\n- Implementing design tokens and theming\n- Building responsive and accessible components\n- Standardizing UI patterns across a codebase\n- Migrating to or extending Tailwind CSS\n- Setting up dark mode and color schemes\n\n## Core Concepts\n\n### 1. Design Token Hierarchy\n\n```\nBrand Tokens (abstract)\n    \u2514\u2500\u2500 Semantic Tokens (purpose)\n        \u2514\u2500\u2500 Component Tokens (specific)\n\nExample:\n    blue-500 \u2192 primary \u2192 button-bg\n```\n\n### 2. Component Architecture\n\n```\nBase styles \u2192 Variants \u2192 Sizes \u2192 States \u2192 Overrides\n```\n\n## Quick Start\n\n```typescript\n// tailwind.config.ts\nimport type { Config } from 'tailwindcss'\n\nconst config: Config = {\n  content: ['./src/**/*.{js,ts,jsx,tsx,mdx}'],\n  darkMode: 'class',\n  theme: {\n    extend: {\n      colors: {\n        // Semantic color tokens\n        primary: {\n          DEFAULT: 'hsl(var(--primary))',\n          foreground: 'hsl(var(--primary-foreground))',\n        },\n        secondary: {\n          DEFAULT: 'hsl(var(--secondary))',\n          foreground: 'hsl(var(--secondary-foreground))',\n        },\n        destructive: {\n          DEFAULT: 'hsl(var(--destructive))',\n          foreground: 'hsl(var(--destructive-foreground))',\n        },\n        muted: {\n          DEFAULT: 'hsl(var(--muted))',\n          foreground: 'hsl(var(--muted-foreground))',\n        },\n        accent: {\n          DEFAULT: 'hsl(var(--accent))',\n          foreground: 'hsl(var(--accent-foreground))',\n        },\n        background: 'hsl(var(--background))',\n        foreground: 'hsl(var(--foreground))',\n        border: 'hsl(var(--border))',\n        ring: 'hsl(var(--ring))',\n      },\n      borderRadius: {\n        lg: 'var(--radius)',\n        md: 'calc(var(--radius) - 2px)',\n        sm: 'calc(var(--radius) - 4px)',\n      },\n    },\n  },\n  plugins:",
  "tier3_resources": " [require('tailwindcss-animate')],\n}\n\nexport default config\n```\n\n```css\n/* globals.css */\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  :root {\n    --background: 0 0% 100%;\n    --foreground: 222.2 84% 4.9%;\n    --primary: 222.2 47.4% 11.2%;\n    --primary-foreground: 210 40% 98%;\n    --secondary: 210 40% 96.1%;\n    --secondary-foreground: 222.2 47.4% 11.2%;\n    --muted: 210 40% 96.1%;\n    --muted-foreground: 215.4 16.3% 46.9%;\n    --accent: 210 40% 96.1%;\n    --accent-foreground: 222.2 47.4% 11.2%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 214.3 31.8% 91.4%;\n    --ring: 222.2 84% 4.9%;\n    --radius: 0.5rem;\n  }\n\n  .dark {\n    --background: 222.2 84% 4.9%;\n    --foreground: 210 40% 98%;\n    --primary: 210 40% 98%;\n    --primary-foreground: 222.2 47.4% 11.2%;\n    --secondary: 217.2 32.6% 17.5%;\n    --secondary-foreground: 210 40% 98%;\n    --muted: 217.2 32.6% 17.5%;\n    --muted-foreground: 215 20.2% 65.1%;\n    --accent: 217.2 32.6% 17.5%;\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 217.2 32.6% 17.5%;\n    --ring: 212.7 26.8% 83.9%;\n  }\n}\n```\n\n## Patterns\n\n### Pattern 1: CVA (Class Variance Authority) Components\n\n```typescript\n// components/ui/button.tsx\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { forwardRef } from 'react'\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  // Base styles\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref",
  "tokenEstimate": {
    "tier1": 18.2,
    "tier2": 262.6,
    "tier3": 2028.0
  },
  "fullDefinition": "---\nname: tailwind-design-system\ndescription: Build scalable design systems with Tailwind CSS, design tokens, component libraries, and responsive patterns. Use when creating component libraries, implementing design systems, or standardizing UI patterns.\n---\n\n# Tailwind Design System\n\nBuild production-ready design systems with Tailwind CSS, including design tokens, component variants, responsive patterns, and accessibility.\n\n## When to Use This Skill\n\n- Creating a component library with Tailwind\n- Implementing design tokens and theming\n- Building responsive and accessible components\n- Standardizing UI patterns across a codebase\n- Migrating to or extending Tailwind CSS\n- Setting up dark mode and color schemes\n\n## Core Concepts\n\n### 1. Design Token Hierarchy\n\n```\nBrand Tokens (abstract)\n    \u2514\u2500\u2500 Semantic Tokens (purpose)\n        \u2514\u2500\u2500 Component Tokens (specific)\n\nExample:\n    blue-500 \u2192 primary \u2192 button-bg\n```\n\n### 2. Component Architecture\n\n```\nBase styles \u2192 Variants \u2192 Sizes \u2192 States \u2192 Overrides\n```\n\n## Quick Start\n\n```typescript\n// tailwind.config.ts\nimport type { Config } from 'tailwindcss'\n\nconst config: Config = {\n  content: ['./src/**/*.{js,ts,jsx,tsx,mdx}'],\n  darkMode: 'class',\n  theme: {\n    extend: {\n      colors: {\n        // Semantic color tokens\n        primary: {\n          DEFAULT: 'hsl(var(--primary))',\n          foreground: 'hsl(var(--primary-foreground))',\n        },\n        secondary: {\n          DEFAULT: 'hsl(var(--secondary))',\n          foreground: 'hsl(var(--secondary-foreground))',\n        },\n        destructive: {\n          DEFAULT: 'hsl(var(--destructive))',\n          foreground: 'hsl(var(--destructive-foreground))',\n        },\n        muted: {\n          DEFAULT: 'hsl(var(--muted))',\n          foreground: 'hsl(var(--muted-foreground))',\n        },\n        accent: {\n          DEFAULT: 'hsl(var(--accent))',\n          foreground: 'hsl(var(--accent-foreground))',\n        },\n        background: 'hsl(var(--background))',\n        foreground: 'hsl(var(--foreground))',\n        border: 'hsl(var(--border))',\n        ring: 'hsl(var(--ring))',\n      },\n      borderRadius: {\n        lg: 'var(--radius)',\n        md: 'calc(var(--radius) - 2px)',\n        sm: 'calc(var(--radius) - 4px)',\n      },\n    },\n  },\n  plugins: [require('tailwindcss-animate')],\n}\n\nexport default config\n```\n\n```css\n/* globals.css */\n@tailwind base;\n@tailwind components;\n@tailwind utilities;\n\n@layer base {\n  :root {\n    --background: 0 0% 100%;\n    --foreground: 222.2 84% 4.9%;\n    --primary: 222.2 47.4% 11.2%;\n    --primary-foreground: 210 40% 98%;\n    --secondary: 210 40% 96.1%;\n    --secondary-foreground: 222.2 47.4% 11.2%;\n    --muted: 210 40% 96.1%;\n    --muted-foreground: 215.4 16.3% 46.9%;\n    --accent: 210 40% 96.1%;\n    --accent-foreground: 222.2 47.4% 11.2%;\n    --destructive: 0 84.2% 60.2%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 214.3 31.8% 91.4%;\n    --ring: 222.2 84% 4.9%;\n    --radius: 0.5rem;\n  }\n\n  .dark {\n    --background: 222.2 84% 4.9%;\n    --foreground: 210 40% 98%;\n    --primary: 210 40% 98%;\n    --primary-foreground: 222.2 47.4% 11.2%;\n    --secondary: 217.2 32.6% 17.5%;\n    --secondary-foreground: 210 40% 98%;\n    --muted: 217.2 32.6% 17.5%;\n    --muted-foreground: 215 20.2% 65.1%;\n    --accent: 217.2 32.6% 17.5%;\n    --accent-foreground: 210 40% 98%;\n    --destructive: 0 62.8% 30.6%;\n    --destructive-foreground: 210 40% 98%;\n    --border: 217.2 32.6% 17.5%;\n    --ring: 212.7 26.8% 83.9%;\n  }\n}\n```\n\n## Patterns\n\n### Pattern 1: CVA (Class Variance Authority) Components\n\n```typescript\n// components/ui/button.tsx\nimport { cva, type VariantProps } from 'class-variance-authority'\nimport { forwardRef } from 'react'\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  // Base styles\n  'inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50',\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive: 'bg-destructive text-destructive-foreground hover:bg-destructive/90',\n        outline: 'border border-input bg-background hover:bg-accent hover:text-accent-foreground',\n        secondary: 'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost: 'hover:bg-accent hover:text-accent-foreground',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-10 px-4 py-2',\n        sm: 'h-9 rounded-md px-3',\n        lg: 'h-11 rounded-md px-8',\n        icon: 'h-10 w-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : 'button'\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = 'Button'\n\nexport { Button, buttonVariants }\n\n// Usage\n<Button variant=\"destructive\" size=\"lg\">Delete</Button>\n<Button variant=\"outline\">Cancel</Button>\n<Button asChild><Link href=\"/home\">Home</Link></Button>\n```\n\n### Pattern 2: Compound Components\n\n```typescript\n// components/ui/card.tsx\nimport { cn } from '@/lib/utils'\nimport { forwardRef } from 'react'\n\nconst Card = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn(\n        'rounded-lg border bg-card text-card-foreground shadow-sm',\n        className\n      )}\n      {...props}\n    />\n  )\n)\nCard.displayName = 'Card'\n\nconst CardHeader = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('flex flex-col space-y-1.5 p-6', className)}\n      {...props}\n    />\n  )\n)\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = forwardRef<HTMLHeadingElement, React.HTMLAttributes<HTMLHeadingElement>>(\n  ({ className, ...props }, ref) => (\n    <h3\n      ref={ref}\n      className={cn('text-2xl font-semibold leading-none tracking-tight', className)}\n      {...props}\n    />\n  )\n)\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => (\n    <p\n      ref={ref}\n      className={cn('text-sm text-muted-foreground', className)}\n      {...props}\n    />\n  )\n)\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n  )\n)\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('flex items-center p-6 pt-0', className)}\n      {...props}\n    />\n  )\n)\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter }\n\n// Usage\n<Card>\n  <CardHeader>\n    <CardTitle>Account</CardTitle>\n    <CardDescription>Manage your account settings</CardDescription>\n  </CardHeader>\n  <CardContent>\n    <form>...</form>\n  </CardContent>\n  <CardFooter>\n    <Button>Save</Button>\n  </CardFooter>\n</Card>\n```\n\n### Pattern 3: Form Components\n\n```typescript\n// components/ui/input.tsx\nimport { forwardRef } from 'react'\nimport { cn } from '@/lib/utils'\n\nexport interface InputProps extends React.InputHTMLAttributes<HTMLInputElement> {\n  error?: string\n}\n\nconst Input = forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, error, ...props }, ref) => {\n    return (\n      <div className=\"relative\">\n        <input\n          type={type}\n          className={cn(\n            'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50',\n            error && 'border-destructive focus-visible:ring-destructive',\n            className\n          )}\n          ref={ref}\n          aria-invalid={!!error}\n          aria-describedby={error ? `${props.id}-error` : undefined}\n          {...props}\n        />\n        {error && (\n          <p\n            id={`${props.id}-error`}\n            className=\"mt-1 text-sm text-destructive\"\n            role=\"alert\"\n          >\n            {error}\n          </p>\n        )}\n      </div>\n    )\n  }\n)\nInput.displayName = 'Input'\n\n// components/ui/label.tsx\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70'\n)\n\nconst Label = forwardRef<HTMLLabelElement, React.LabelHTMLAttributes<HTMLLabelElement>>(\n  ({ className, ...props }, ref) => (\n    <label ref={ref} className={cn(labelVariants(), className)} {...props} />\n  )\n)\nLabel.displayName = 'Label'\n\n// Usage with React Hook Form\nimport { useForm } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport * as z from 'zod'\n\nconst schema = z.object({\n  email: z.string().email('Invalid email address'),\n  password: z.string().min(8, 'Password must be at least 8 characters'),\n})\n\nfunction LoginForm() {\n  const { register, handleSubmit, formState: { errors } } = useForm({\n    resolver: zodResolver(schema),\n  })\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"email\">Email</Label>\n        <Input\n          id=\"email\"\n          type=\"email\"\n          {...register('email')}\n          error={errors.email?.message}\n        />\n      </div>\n      <div className=\"space-y-2\">\n        <Label htmlFor=\"password\">Password</Label>\n        <Input\n          id=\"password\"\n          type=\"password\"\n          {...register('password')}\n          error={errors.password?.message}\n        />\n      </div>\n      <Button type=\"submit\" className=\"w-full\">Sign In</Button>\n    </form>\n  )\n}\n```\n\n### Pattern 4: Responsive Grid System\n\n```typescript\n// components/ui/grid.tsx\nimport { cn } from '@/lib/utils'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nconst gridVariants = cva('grid', {\n  variants: {\n    cols: {\n      1: 'grid-cols-1',\n      2: 'grid-cols-1 sm:grid-cols-2',\n      3: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-3',\n      4: 'grid-cols-1 sm:grid-cols-2 lg:grid-cols-4',\n      5: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-5',\n      6: 'grid-cols-2 sm:grid-cols-3 lg:grid-cols-6',\n    },\n    gap: {\n      none: 'gap-0',\n      sm: 'gap-2',\n      md: 'gap-4',\n      lg: 'gap-6',\n      xl: 'gap-8',\n    },\n  },\n  defaultVariants: {\n    cols: 3,\n    gap: 'md',\n  },\n})\n\ninterface GridProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof gridVariants> {}\n\nexport function Grid({ className, cols, gap, ...props }: GridProps) {\n  return (\n    <div className={cn(gridVariants({ cols, gap, className }))} {...props} />\n  )\n}\n\n// Container component\nconst containerVariants = cva('mx-auto w-full px-4 sm:px-6 lg:px-8', {\n  variants: {\n    size: {\n      sm: 'max-w-screen-sm',\n      md: 'max-w-screen-md',\n      lg: 'max-w-screen-lg',\n      xl: 'max-w-screen-xl',\n      '2xl': 'max-w-screen-2xl',\n      full: 'max-w-full',\n    },\n  },\n  defaultVariants: {\n    size: 'xl',\n  },\n})\n\ninterface ContainerProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof containerVariants> {}\n\nexport function Container({ className, size, ...props }: ContainerProps) {\n  return (\n    <div className={cn(containerVariants({ size, className }))} {...props} />\n  )\n}\n\n// Usage\n<Container>\n  <Grid cols={4} gap=\"lg\">\n    {products.map((product) => (\n      <ProductCard key={product.id} product={product} />\n    ))}\n  </Grid>\n</Container>\n```\n\n### Pattern 5: Animation Utilities\n\n```typescript\n// lib/animations.ts - Tailwind CSS Animate utilities\nimport { cn } from './utils'\n\nexport const fadeIn = 'animate-in fade-in duration-300'\nexport const fadeOut = 'animate-out fade-out duration-300'\nexport const slideInFromTop = 'animate-in slide-in-from-top duration-300'\nexport const slideInFromBottom = 'animate-in slide-in-from-bottom duration-300'\nexport const slideInFromLeft = 'animate-in slide-in-from-left duration-300'\nexport const slideInFromRight = 'animate-in slide-in-from-right duration-300'\nexport const zoomIn = 'animate-in zoom-in-95 duration-300'\nexport const zoomOut = 'animate-out zoom-out-95 duration-300'\n\n// Compound animations\nexport const modalEnter = cn(fadeIn, zoomIn, 'duration-200')\nexport const modalExit = cn(fadeOut, zoomOut, 'duration-200')\nexport const dropdownEnter = cn(fadeIn, slideInFromTop, 'duration-150')\nexport const dropdownExit = cn(fadeOut, 'slide-out-to-top', 'duration-150')\n\n// components/ui/dialog.tsx\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\n\nconst DialogOverlay = forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80',\n      'data-[state=open]:animate-in data-[state=closed]:animate-out',\n      'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className\n    )}\n    {...props}\n  />\n))\n\nconst DialogContent = forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg',\n        'data-[state=open]:animate-in data-[state=closed]:animate-out',\n        'data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n        'data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95',\n        'data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%]',\n        'data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%]',\n        'sm:rounded-lg',\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\n```\n\n### Pattern 6: Dark Mode Implementation\n\n```typescript\n// providers/ThemeProvider.tsx\n'use client'\n\nimport { createContext, useContext, useEffect, useState } from 'react'\n\ntype Theme = 'dark' | 'light' | 'system'\n\ninterface ThemeProviderProps {\n  children: React.ReactNode\n  defaultTheme?: Theme\n  storageKey?: string\n}\n\ninterface ThemeContextType {\n  theme: Theme\n  setTheme: (theme: Theme) => void\n  resolvedTheme: 'dark' | 'light'\n}\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined)\n\nexport function ThemeProvider({\n  children,\n  defaultTheme = 'system',\n  storageKey = 'theme',\n}: ThemeProviderProps) {\n  const [theme, setTheme] = useState<Theme>(defaultTheme)\n  const [resolvedTheme, setResolvedTheme] = useState<'dark' | 'light'>('light')\n\n  useEffect(() => {\n    const stored = localStorage.getItem(storageKey) as Theme | null\n    if (stored) setTheme(stored)\n  }, [storageKey])\n\n  useEffect(() => {\n    const root = window.document.documentElement\n    root.classList.remove('light', 'dark')\n\n    let resolved: 'dark' | 'light'\n\n    if (theme === 'system') {\n      resolved = window.matchMedia('(prefers-color-scheme: dark)').matches\n        ? 'dark'\n        : 'light'\n    } else {\n      resolved = theme\n    }\n\n    root.classList.add(resolved)\n    setResolvedTheme(resolved)\n  }, [theme])\n\n  const value = {\n    theme,\n    setTheme: (newTheme: Theme) => {\n      localStorage.setItem(storageKey, newTheme)\n      setTheme(newTheme)\n    },\n    resolvedTheme,\n  }\n\n  return (\n    <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\n  )\n}\n\nexport const useTheme = () => {\n  const context = useContext(ThemeContext)\n  if (!context) throw new Error('useTheme must be used within ThemeProvider')\n  return context\n}\n\n// components/ThemeToggle.tsx\nimport { Moon, Sun } from 'lucide-react'\nimport { useTheme } from '@/providers/ThemeProvider'\n\nexport function ThemeToggle() {\n  const { resolvedTheme, setTheme } = useTheme()\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon\"\n      onClick={() => setTheme(resolvedTheme === 'dark' ? 'light' : 'dark')}\n    >\n      <Sun className=\"h-5 w-5 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\" />\n      <Moon className=\"absolute h-5 w-5 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\" />\n      <span className=\"sr-only\">Toggle theme</span>\n    </Button>\n  )\n}\n```\n\n## Utility Functions\n\n```typescript\n// lib/utils.ts\nimport { type ClassValue, clsx } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n\n// Focus ring utility\nexport const focusRing = cn(\n  'focus-visible:outline-none focus-visible:ring-2',\n  'focus-visible:ring-ring focus-visible:ring-offset-2'\n)\n\n// Disabled utility\nexport const disabled = 'disabled:pointer-events-none disabled:opacity-50'\n```\n\n## Best Practices\n\n### Do's\n- **Use CSS variables** - Enable runtime theming\n- **Compose with CVA** - Type-safe variants\n- **Use semantic colors** - `primary` not `blue-500`\n- **Forward refs** - Enable composition\n- **Add accessibility** - ARIA attributes, focus states\n\n### Don'ts\n- **Don't use arbitrary values** - Extend theme instead\n- **Don't nest @apply** - Hurts readability\n- **Don't skip focus states** - Keyboard users need them\n- **Don't hardcode colors** - Use semantic tokens\n- **Don't forget dark mode** - Test both themes\n\n## Resources\n\n- [Tailwind CSS Documentation](https://tailwindcss.com/docs)\n- [CVA Documentation](https://cva.style/docs)\n- [shadcn/ui](https://ui.shadcn.com/)\n- [Radix Primitives](https://www.radix-ui.com/primitives)\n"
}