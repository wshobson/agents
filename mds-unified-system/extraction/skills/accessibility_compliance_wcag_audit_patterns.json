{
  "id": "accessibility_compliance_wcag_audit_patterns",
  "name": "wcag-audit-patterns",
  "source": "accessibility-compliance",
  "originalPath": "plugins/accessibility-compliance/skills/wcag-audit-patterns/SKILL.md",
  "activationCriteria": "Conduct WCAG 2.2 accessibility audits with automated testing, manual verification, and remediation guidance. Use when auditing websites for accessibility, fixing WCAG violations, or implementing acces",
  "tier1_metadata": "wcag-audit-patterns: Conduct WCAG 2.2 accessibility audits with automated testing, manual verification, and remediation g",
  "tier2_instructions": "# WCAG Audit Patterns\n\nComprehensive guide to auditing web content against WCAG 2.2 guidelines with actionable remediation strategies.\n\n## When to Use This Skill\n\n- Conducting accessibility audits\n- Fixing WCAG violations\n- Implementing accessible components\n- Preparing for accessibility lawsuits\n- Meeting ADA/Section 508 requirements\n- Achieving VPAT compliance\n\n## Core Concepts\n\n### 1. WCAG Conformance Levels\n\n| Level | Description | Required For |\n|-------|-------------|--------------|\n| **A** | Minimum accessibility | Legal baseline |\n| **AA** | Standard conformance | Most regulations |\n| **AAA** | Enhanced accessibility | Specialized needs |\n\n### 2. POUR Principles\n\n```\nPerceivable:  Can users perceive the content?\nOperable:     Can users operate the interface?\nUnderstandable: Can users understand the content?\nRobust:       Does it work with assistive tech?\n```\n\n### 3. Common Violations by Impact\n\n```\nCritical (Blockers):\n\u251c\u2500\u2500 Missing alt text for functional images\n\u251c\u2500\u2500 No keyboard access to interactive elements\n\u251c\u2500\u2500 Missing form labels\n\u2514\u2500\u2500 Auto-playing media without controls\n\nSerious:\n\u251c\u2500\u2500 Insufficient color contrast\n\u251c\u2500\u2500 Missing skip links\n\u251c\u2500\u2500 Inaccessible custom widgets\n\u2514\u2500\u2500 Missing page titles\n\nModerate:\n\u251c\u2500\u2500 Missing language attribute\n\u251c\u2500\u2500 Unclear link text\n\u251c\u2500\u2500 Missing landmarks\n\u2514\u2500\u2500 Improper heading hierarchy\n```\n\n## Audit Checklist\n\n### Perceivable (Principle 1)\n\n```markdown\n## 1.1 Text Alternatives\n\n### 1.1.1 Non-text Content (Level A)\n- [ ] All images have alt text\n- [ ] Decorative images have alt=\"\"\n- [ ] Complex images have long descriptions\n- [ ] Icons with meaning have accessible names\n- [ ] CAPTCHAs have alternatives\n\nCheck:\n```html\n<!-- Good -->\n<img src=\"chart.png\" alt=\"Sales increased 25% from Q1 to Q2\">\n<img src=\"decorative-line.png\" alt=\"\">\n\n<!-- Bad -->\n<img src=\"chart.png\">\n<img src=\"decorative-line.png\" alt=\"decorative line\">\n```\n\n## 1.2 Time-based Media\n\n### 1.2.1 Audio-only and Video-only (Level A)\n- [ ] Audio has text transcript\n- [ ] Video has ",
  "tier3_resources": "audio description or transcript\n\n### 1.2.2 Captions (Level A)\n- [ ] All video has synchronized captions\n- [ ] Captions are accurate and complete\n- [ ] Speaker identification included\n\n### 1.2.3 Audio Description (Level A)\n- [ ] Video has audio description for visual content\n\n## 1.3 Adaptable\n\n### 1.3.1 Info and Relationships (Level A)\n- [ ] Headings use proper tags (h1-h6)\n- [ ] Lists use ul/ol/dl\n- [ ] Tables have headers\n- [ ] Form inputs have labels\n- [ ] ARIA landmarks present\n\nCheck:\n```html\n<!-- Heading hierarchy -->\n<h1>Page Title</h1>\n  <h2>Section</h2>\n    <h3>Subsection</h3>\n  <h2>Another Section</h2>\n\n<!-- Table headers -->\n<table>\n  <thead>\n    <tr><th scope=\"col\">Name</th><th scope=\"col\">Price</th></tr>\n  </thead>\n</table>\n```\n\n### 1.3.2 Meaningful Sequence (Level A)\n- [ ] Reading order is logical\n- [ ] CSS positioning doesn't break order\n- [ ] Focus order matches visual order\n\n### 1.3.3 Sensory Characteristics (Level A)\n- [ ] Instructions don't rely on shape/color alone\n- [ ] \"Click the red button\" \u2192 \"Click Submit (red button)\"\n\n## 1.4 Distinguishable\n\n### 1.4.1 Use of Color (Level A)\n- [ ] Color is not only means of conveying info\n- [ ] Links distinguishable without color\n- [ ] Error states not color-only\n\n### 1.4.3 Contrast (Minimum) (Level AA)\n- [ ] Text: 4.5:1 contrast ratio\n- [ ] Large text (18pt+): 3:1 ratio\n- [ ] UI components: 3:1 ratio\n\nTools: WebAIM Contrast Checker, axe DevTools\n\n### 1.4.4 Resize Text (Level AA)\n- [ ] Text resizes to 200% without loss\n- [ ] No horizontal scrolling at 320px\n- [ ] Content reflows properly\n\n### 1.4.10 Reflow (Level AA)\n- [ ] Content reflows at 400% zoom\n- [ ] No two-dimensional scrolling\n- [ ] All content accessible at 320px width\n\n### 1.4.11 Non-text Contrast (Level AA)\n- [ ] UI components have 3:1 contrast\n- [ ] Focus indicators visible\n- [ ] Graphical objects distinguishable\n\n### 1.4.12 Text Spacing (Level AA)\n- [ ] No content loss with increased spacing\n- [ ] Line height 1.5x font size\n- [ ] Paragraph spacing 2x font size\n- [ ] Letter spacing 0.12x font size\n- [ ] Word spacing 0.16x font size\n```\n\n### Operable (Principle 2)\n\n```markdown\n## 2.1 Keyboard Accessible\n\n### 2.1.1 Keyboard (Level A)\n- [ ] All functionality keyboard accessible\n- [ ] No keyboard traps\n- [ ] Tab order is logical\n- [ ] Custom widgets are keyboard operable\n\nCheck:\n```javascript\n// Custom button must be keyboard accessible\n<div role=\"button\" tabindex=\"0\"\n     onkeydown=\"if(event.key === 'Enter' || event.key === ' ') activate()\">\n```\n\n### 2.1.2 No Keyboard Trap (Level A)\n- [ ] Focus can move away from all components\n- [ ] Modal dialogs trap focus correctly\n- [ ] Focus returns after modal closes\n\n## 2.2 Enough Time\n\n### 2.2.1 Timing Adjustable (Level A)\n- [ ] Session timeouts can be extended\n- [ ] User warned before timeout\n- [ ] Option to disable auto-refresh\n\n### 2.2.2 Pause, Stop, Hide (Level A)\n- [ ] Moving content can be paused\n- [ ] Auto-updating content can be paused\n- [ ] Animations respect prefers-reduced-moti",
  "tokenEstimate": {
    "tier1": 18.2,
    "tier2": 386.1,
    "tier3": 1968.2
  },
  "fullDefinition": "---\nname: wcag-audit-patterns\ndescription: Conduct WCAG 2.2 accessibility audits with automated testing, manual verification, and remediation guidance. Use when auditing websites for accessibility, fixing WCAG violations, or implementing accessible design patterns.\n---\n\n# WCAG Audit Patterns\n\nComprehensive guide to auditing web content against WCAG 2.2 guidelines with actionable remediation strategies.\n\n## When to Use This Skill\n\n- Conducting accessibility audits\n- Fixing WCAG violations\n- Implementing accessible components\n- Preparing for accessibility lawsuits\n- Meeting ADA/Section 508 requirements\n- Achieving VPAT compliance\n\n## Core Concepts\n\n### 1. WCAG Conformance Levels\n\n| Level | Description | Required For |\n|-------|-------------|--------------|\n| **A** | Minimum accessibility | Legal baseline |\n| **AA** | Standard conformance | Most regulations |\n| **AAA** | Enhanced accessibility | Specialized needs |\n\n### 2. POUR Principles\n\n```\nPerceivable:  Can users perceive the content?\nOperable:     Can users operate the interface?\nUnderstandable: Can users understand the content?\nRobust:       Does it work with assistive tech?\n```\n\n### 3. Common Violations by Impact\n\n```\nCritical (Blockers):\n\u251c\u2500\u2500 Missing alt text for functional images\n\u251c\u2500\u2500 No keyboard access to interactive elements\n\u251c\u2500\u2500 Missing form labels\n\u2514\u2500\u2500 Auto-playing media without controls\n\nSerious:\n\u251c\u2500\u2500 Insufficient color contrast\n\u251c\u2500\u2500 Missing skip links\n\u251c\u2500\u2500 Inaccessible custom widgets\n\u2514\u2500\u2500 Missing page titles\n\nModerate:\n\u251c\u2500\u2500 Missing language attribute\n\u251c\u2500\u2500 Unclear link text\n\u251c\u2500\u2500 Missing landmarks\n\u2514\u2500\u2500 Improper heading hierarchy\n```\n\n## Audit Checklist\n\n### Perceivable (Principle 1)\n\n```markdown\n## 1.1 Text Alternatives\n\n### 1.1.1 Non-text Content (Level A)\n- [ ] All images have alt text\n- [ ] Decorative images have alt=\"\"\n- [ ] Complex images have long descriptions\n- [ ] Icons with meaning have accessible names\n- [ ] CAPTCHAs have alternatives\n\nCheck:\n```html\n<!-- Good -->\n<img src=\"chart.png\" alt=\"Sales increased 25% from Q1 to Q2\">\n<img src=\"decorative-line.png\" alt=\"\">\n\n<!-- Bad -->\n<img src=\"chart.png\">\n<img src=\"decorative-line.png\" alt=\"decorative line\">\n```\n\n## 1.2 Time-based Media\n\n### 1.2.1 Audio-only and Video-only (Level A)\n- [ ] Audio has text transcript\n- [ ] Video has audio description or transcript\n\n### 1.2.2 Captions (Level A)\n- [ ] All video has synchronized captions\n- [ ] Captions are accurate and complete\n- [ ] Speaker identification included\n\n### 1.2.3 Audio Description (Level A)\n- [ ] Video has audio description for visual content\n\n## 1.3 Adaptable\n\n### 1.3.1 Info and Relationships (Level A)\n- [ ] Headings use proper tags (h1-h6)\n- [ ] Lists use ul/ol/dl\n- [ ] Tables have headers\n- [ ] Form inputs have labels\n- [ ] ARIA landmarks present\n\nCheck:\n```html\n<!-- Heading hierarchy -->\n<h1>Page Title</h1>\n  <h2>Section</h2>\n    <h3>Subsection</h3>\n  <h2>Another Section</h2>\n\n<!-- Table headers -->\n<table>\n  <thead>\n    <tr><th scope=\"col\">Name</th><th scope=\"col\">Price</th></tr>\n  </thead>\n</table>\n```\n\n### 1.3.2 Meaningful Sequence (Level A)\n- [ ] Reading order is logical\n- [ ] CSS positioning doesn't break order\n- [ ] Focus order matches visual order\n\n### 1.3.3 Sensory Characteristics (Level A)\n- [ ] Instructions don't rely on shape/color alone\n- [ ] \"Click the red button\" \u2192 \"Click Submit (red button)\"\n\n## 1.4 Distinguishable\n\n### 1.4.1 Use of Color (Level A)\n- [ ] Color is not only means of conveying info\n- [ ] Links distinguishable without color\n- [ ] Error states not color-only\n\n### 1.4.3 Contrast (Minimum) (Level AA)\n- [ ] Text: 4.5:1 contrast ratio\n- [ ] Large text (18pt+): 3:1 ratio\n- [ ] UI components: 3:1 ratio\n\nTools: WebAIM Contrast Checker, axe DevTools\n\n### 1.4.4 Resize Text (Level AA)\n- [ ] Text resizes to 200% without loss\n- [ ] No horizontal scrolling at 320px\n- [ ] Content reflows properly\n\n### 1.4.10 Reflow (Level AA)\n- [ ] Content reflows at 400% zoom\n- [ ] No two-dimensional scrolling\n- [ ] All content accessible at 320px width\n\n### 1.4.11 Non-text Contrast (Level AA)\n- [ ] UI components have 3:1 contrast\n- [ ] Focus indicators visible\n- [ ] Graphical objects distinguishable\n\n### 1.4.12 Text Spacing (Level AA)\n- [ ] No content loss with increased spacing\n- [ ] Line height 1.5x font size\n- [ ] Paragraph spacing 2x font size\n- [ ] Letter spacing 0.12x font size\n- [ ] Word spacing 0.16x font size\n```\n\n### Operable (Principle 2)\n\n```markdown\n## 2.1 Keyboard Accessible\n\n### 2.1.1 Keyboard (Level A)\n- [ ] All functionality keyboard accessible\n- [ ] No keyboard traps\n- [ ] Tab order is logical\n- [ ] Custom widgets are keyboard operable\n\nCheck:\n```javascript\n// Custom button must be keyboard accessible\n<div role=\"button\" tabindex=\"0\"\n     onkeydown=\"if(event.key === 'Enter' || event.key === ' ') activate()\">\n```\n\n### 2.1.2 No Keyboard Trap (Level A)\n- [ ] Focus can move away from all components\n- [ ] Modal dialogs trap focus correctly\n- [ ] Focus returns after modal closes\n\n## 2.2 Enough Time\n\n### 2.2.1 Timing Adjustable (Level A)\n- [ ] Session timeouts can be extended\n- [ ] User warned before timeout\n- [ ] Option to disable auto-refresh\n\n### 2.2.2 Pause, Stop, Hide (Level A)\n- [ ] Moving content can be paused\n- [ ] Auto-updating content can be paused\n- [ ] Animations respect prefers-reduced-motion\n\n```css\n@media (prefers-reduced-motion: reduce) {\n  * {\n    animation: none !important;\n    transition: none !important;\n  }\n}\n```\n\n## 2.3 Seizures and Physical Reactions\n\n### 2.3.1 Three Flashes (Level A)\n- [ ] No content flashes more than 3 times/second\n- [ ] Flashing area is small (<25% viewport)\n\n## 2.4 Navigable\n\n### 2.4.1 Bypass Blocks (Level A)\n- [ ] Skip to main content link present\n- [ ] Landmark regions defined\n- [ ] Proper heading structure\n\n```html\n<a href=\"#main\" class=\"skip-link\">Skip to main content</a>\n<main id=\"main\">...</main>\n```\n\n### 2.4.2 Page Titled (Level A)\n- [ ] Unique, descriptive page titles\n- [ ] Title reflects page content\n\n### 2.4.3 Focus Order (Level A)\n- [ ] Focus order matches visual order\n- [ ] tabindex used correctly\n\n### 2.4.4 Link Purpose (In Context) (Level A)\n- [ ] Links make sense out of context\n- [ ] No \"click here\" or \"read more\" alone\n\n```html\n<!-- Bad -->\n<a href=\"report.pdf\">Click here</a>\n\n<!-- Good -->\n<a href=\"report.pdf\">Download Q4 Sales Report (PDF)</a>\n```\n\n### 2.4.6 Headings and Labels (Level AA)\n- [ ] Headings describe content\n- [ ] Labels describe purpose\n\n### 2.4.7 Focus Visible (Level AA)\n- [ ] Focus indicator visible on all elements\n- [ ] Custom focus styles meet contrast\n\n```css\n:focus {\n  outline: 3px solid #005fcc;\n  outline-offset: 2px;\n}\n```\n\n### 2.4.11 Focus Not Obscured (Level AA) - WCAG 2.2\n- [ ] Focused element not fully hidden\n- [ ] Sticky headers don't obscure focus\n```\n\n### Understandable (Principle 3)\n\n```markdown\n## 3.1 Readable\n\n### 3.1.1 Language of Page (Level A)\n- [ ] HTML lang attribute set\n- [ ] Language correct for content\n\n```html\n<html lang=\"en\">\n```\n\n### 3.1.2 Language of Parts (Level AA)\n- [ ] Language changes marked\n```html\n<p>The French word <span lang=\"fr\">bonjour</span> means hello.</p>\n```\n\n## 3.2 Predictable\n\n### 3.2.1 On Focus (Level A)\n- [ ] No context change on focus alone\n- [ ] No unexpected popups on focus\n\n### 3.2.2 On Input (Level A)\n- [ ] No automatic form submission\n- [ ] User warned before context change\n\n### 3.2.3 Consistent Navigation (Level AA)\n- [ ] Navigation consistent across pages\n- [ ] Repeated components same order\n\n### 3.2.4 Consistent Identification (Level AA)\n- [ ] Same functionality = same label\n- [ ] Icons used consistently\n\n## 3.3 Input Assistance\n\n### 3.3.1 Error Identification (Level A)\n- [ ] Errors clearly identified\n- [ ] Error message describes problem\n- [ ] Error linked to field\n\n```html\n<input aria-describedby=\"email-error\" aria-invalid=\"true\">\n<span id=\"email-error\" role=\"alert\">Please enter valid email</span>\n```\n\n### 3.3.2 Labels or Instructions (Level A)\n- [ ] All inputs have visible labels\n- [ ] Required fields indicated\n- [ ] Format hints provided\n\n### 3.3.3 Error Suggestion (Level AA)\n- [ ] Errors include correction suggestion\n- [ ] Suggestions are specific\n\n### 3.3.4 Error Prevention (Level AA)\n- [ ] Legal/financial forms reversible\n- [ ] Data checked before submission\n- [ ] User can review before submit\n```\n\n### Robust (Principle 4)\n\n```markdown\n## 4.1 Compatible\n\n### 4.1.1 Parsing (Level A) - Obsolete in WCAG 2.2\n- [ ] Valid HTML (good practice)\n- [ ] No duplicate IDs\n- [ ] Complete start/end tags\n\n### 4.1.2 Name, Role, Value (Level A)\n- [ ] Custom widgets have accessible names\n- [ ] ARIA roles correct\n- [ ] State changes announced\n\n```html\n<!-- Accessible custom checkbox -->\n<div role=\"checkbox\"\n     aria-checked=\"false\"\n     tabindex=\"0\"\n     aria-labelledby=\"label\">\n</div>\n<span id=\"label\">Accept terms</span>\n```\n\n### 4.1.3 Status Messages (Level AA)\n- [ ] Status updates announced\n- [ ] Live regions used correctly\n\n```html\n<div role=\"status\" aria-live=\"polite\">\n  3 items added to cart\n</div>\n\n<div role=\"alert\" aria-live=\"assertive\">\n  Error: Form submission failed\n</div>\n```\n```\n\n## Automated Testing\n\n```javascript\n// axe-core integration\nconst axe = require('axe-core');\n\nasync function runAccessibilityAudit(page) {\n  await page.addScriptTag({ path: require.resolve('axe-core') });\n\n  const results = await page.evaluate(async () => {\n    return await axe.run(document, {\n      runOnly: {\n        type: 'tag',\n        values: ['wcag2a', 'wcag2aa', 'wcag21aa', 'wcag22aa']\n      }\n    });\n  });\n\n  return {\n    violations: results.violations,\n    passes: results.passes,\n    incomplete: results.incomplete\n  };\n}\n\n// Playwright test example\ntest('should have no accessibility violations', async ({ page }) => {\n  await page.goto('/');\n  const results = await runAccessibilityAudit(page);\n\n  expect(results.violations).toHaveLength(0);\n});\n```\n\n```bash\n# CLI tools\nnpx @axe-core/cli https://example.com\nnpx pa11y https://example.com\nlighthouse https://example.com --only-categories=accessibility\n```\n\n## Remediation Patterns\n\n### Fix: Missing Form Labels\n\n```html\n<!-- Before -->\n<input type=\"email\" placeholder=\"Email\">\n\n<!-- After: Option 1 - Visible label -->\n<label for=\"email\">Email address</label>\n<input id=\"email\" type=\"email\">\n\n<!-- After: Option 2 - aria-label -->\n<input type=\"email\" aria-label=\"Email address\">\n\n<!-- After: Option 3 - aria-labelledby -->\n<span id=\"email-label\">Email</span>\n<input type=\"email\" aria-labelledby=\"email-label\">\n```\n\n### Fix: Insufficient Color Contrast\n\n```css\n/* Before: 2.5:1 contrast */\n.text { color: #767676; }\n\n/* After: 4.5:1 contrast */\n.text { color: #595959; }\n\n/* Or add background */\n.text {\n  color: #767676;\n  background: #000;\n}\n```\n\n### Fix: Keyboard Navigation\n\n```javascript\n// Make custom element keyboard accessible\nclass AccessibleDropdown extends HTMLElement {\n  connectedCallback() {\n    this.setAttribute('tabindex', '0');\n    this.setAttribute('role', 'combobox');\n    this.setAttribute('aria-expanded', 'false');\n\n    this.addEventListener('keydown', (e) => {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          this.toggle();\n          e.preventDefault();\n          break;\n        case 'Escape':\n          this.close();\n          break;\n        case 'ArrowDown':\n          this.focusNext();\n          e.preventDefault();\n          break;\n        case 'ArrowUp':\n          this.focusPrevious();\n          e.preventDefault();\n          break;\n      }\n    });\n  }\n}\n```\n\n## Best Practices\n\n### Do's\n- **Start early** - Accessibility from design phase\n- **Test with real users** - Disabled users provide best feedback\n- **Automate what you can** - 30-50% issues detectable\n- **Use semantic HTML** - Reduces ARIA needs\n- **Document patterns** - Build accessible component library\n\n### Don'ts\n- **Don't rely only on automated testing** - Manual testing required\n- **Don't use ARIA as first solution** - Native HTML first\n- **Don't hide focus outlines** - Keyboard users need them\n- **Don't disable zoom** - Users need to resize\n- **Don't use color alone** - Multiple indicators needed\n\n## Resources\n\n- [WCAG 2.2 Guidelines](https://www.w3.org/TR/WCAG22/)\n- [WebAIM](https://webaim.org/)\n- [A11y Project Checklist](https://www.a11yproject.com/checklist/)\n- [axe DevTools](https://www.deque.com/axe/)\n"
}