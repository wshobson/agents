{
  "id": "backend_development_temporal_python_testing",
  "name": "temporal-python-testing",
  "source": "backend-development",
  "originalPath": "plugins/backend-development/skills/temporal-python-testing/SKILL.md",
  "activationCriteria": "Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, integration testing, replay testing, and local development setup. Use when implementing Temporal workfl",
  "tier1_metadata": "temporal-python-testing: Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, int",
  "tier2_instructions": "# Temporal Python Testing Strategies\n\nComprehensive testing approaches for Temporal workflows using pytest, progressive disclosure resources for specific testing scenarios.\n\n## When to Use This Skill\n\n- **Unit testing workflows** - Fast tests with time-skipping\n- **Integration testing** - Workflows with mocked activities\n- **Replay testing** - Validate determinism against production histories\n- **Local development** - Set up Temporal server and pytest\n- **CI/CD integration** - Automated testing pipelines\n- **Coverage strategies** - Achieve \u226580% test coverage\n\n## Testing Philosophy\n\n**Recommended Approach** (Source: docs.temporal.io/develop/python/testing-suite):\n- Write majority as integration tests\n- Use pytest with async fixtures\n- Time-skipping enables fast feedback (month-long workflows \u2192 seconds)\n- Mock activities to isolate workflow logic\n- Validate determinism with replay testing\n\n**Three Test Types**:\n1. **Unit**: Workflows with time-skipping, activities with ActivityEnvironment\n2. **Integration**: Workers with mocked activities\n3. **End-to-end**: Full Temporal server with real activities (use sparingly)\n\n## Available Resources\n\nThis skill provides detailed guidance through progressive disclosure. Load specific resources based on your testing needs:\n\n### Unit Testing Resources\n**File**: `resources/unit-testing.md`\n**When to load**: Testing individual workflows or activities in isolation\n**Contains**:\n- WorkflowEnvironment with time-skipping\n- ActivityEnvironment for activity testing\n- Fast execution of long-running workflows\n- Manual time advancement patterns\n- pytest fixtures and patterns\n\n### Integration Testing Resources\n**File**: `resources/integration-testing.md`\n**When to load**: Testing workflows with mocked external dependencies\n**Contains**:\n- Activity mocking strategies\n- Error injection patterns\n- Multi-activity workflow testing\n- Signal and query testing\n- Coverage strategies\n\n### Replay Testing Resources\n**File**: `resources/replay-testing.md`\n*",
  "tier3_resources": "*When to load**: Validating determinism or deploying workflow changes\n**Contains**:\n- Determinism validation\n- Production history replay\n- CI/CD integration patterns\n- Version compatibility testing\n\n### Local Development Resources\n**File**: `resources/local-setup.md`\n**When to load**: Setting up development environment\n**Contains**:\n- Docker Compose configuration\n- pytest setup and configuration\n- Coverage tool integration\n- Development workflow\n\n## Quick Start Guide\n\n### Basic Workflow Test\n\n```python\nimport pytest\nfrom temporalio.testing import WorkflowEnvironment\nfrom temporalio.worker import Worker\n\n@pytest.fixture\nasync def workflow_env():\n    env = await WorkflowEnvironment.start_time_skipping()\n    yield env\n    await env.shutdown()\n\n@pytest.mark.asyncio\nasync def test_workflow(workflow_env):\n    async with Worker(\n        workflow_env.client,\n        task_queue=\"test-queue\",\n        workflows=[YourWorkflow],\n        activities=[your_activity],\n    ):\n        result = await workflow_env.client.execute_workflow(\n            YourWorkflow.run,\n            args,\n            id=\"test-wf-id\",\n            task_queue=\"test-queue\",\n        )\n        assert result == expected\n```\n\n### Basic Activity Test\n\n```python\nfrom temporalio.testing import ActivityEnvironment\n\nasync def test_activity():\n    env = ActivityEnvironment()\n    result = await env.run(your_activity, \"test-input\")\n    assert result == expected_output\n```\n\n## Coverage Targets\n\n**Recommended Coverage** (Source: docs.temporal.io best practices):\n- **Workflows**: \u226580% logic coverage\n- **Activities**: \u226580% logic coverage\n- **Integration**: Critical paths with mocked activities\n- **Replay**: All workflow versions before deployment\n\n## Key Testing Principles\n\n1. **Time-Skipping** - Month-long workflows test in seconds\n2. **Mock Activities** - Isolate workflow logic from external dependencies\n3. **Replay Testing** - Validate determinism before deployment\n4. **High Coverage** - \u226580% target for production workflows\n5. **Fast Feedback** - Unit tests run in milliseconds\n\n## How to Use Resources\n\n**Load specific resource when needed**:\n- \"Show me unit testing patterns\" \u2192 Load `resources/unit-testing.md`\n- \"How do I mock activities?\" \u2192 Load `resources/integration-testing.md`\n- \"Setup local Temporal server\" \u2192 Load `resources/local-setup.md`\n- \"Validate determinism\" \u2192 Load `resources/replay-testing.md`\n\n## Additional References\n\n- Python SDK Testing: docs.temporal.io/develop/python/testing-suite\n- Testing Patterns: github.com/temporalio/temporal/blob/main/docs/development/testing.md\n- Python Samples: github.com/temporalio/samples-python",
  "tokenEstimate": {
    "tier1": 18.2,
    "tier2": 323.7,
    "tier3": 358.8
  },
  "fullDefinition": "---\nname: temporal-python-testing\ndescription: Test Temporal workflows with pytest, time-skipping, and mocking strategies. Covers unit testing, integration testing, replay testing, and local development setup. Use when implementing Temporal workflow tests or debugging test failures.\n---\n\n# Temporal Python Testing Strategies\n\nComprehensive testing approaches for Temporal workflows using pytest, progressive disclosure resources for specific testing scenarios.\n\n## When to Use This Skill\n\n- **Unit testing workflows** - Fast tests with time-skipping\n- **Integration testing** - Workflows with mocked activities\n- **Replay testing** - Validate determinism against production histories\n- **Local development** - Set up Temporal server and pytest\n- **CI/CD integration** - Automated testing pipelines\n- **Coverage strategies** - Achieve \u226580% test coverage\n\n## Testing Philosophy\n\n**Recommended Approach** (Source: docs.temporal.io/develop/python/testing-suite):\n- Write majority as integration tests\n- Use pytest with async fixtures\n- Time-skipping enables fast feedback (month-long workflows \u2192 seconds)\n- Mock activities to isolate workflow logic\n- Validate determinism with replay testing\n\n**Three Test Types**:\n1. **Unit**: Workflows with time-skipping, activities with ActivityEnvironment\n2. **Integration**: Workers with mocked activities\n3. **End-to-end**: Full Temporal server with real activities (use sparingly)\n\n## Available Resources\n\nThis skill provides detailed guidance through progressive disclosure. Load specific resources based on your testing needs:\n\n### Unit Testing Resources\n**File**: `resources/unit-testing.md`\n**When to load**: Testing individual workflows or activities in isolation\n**Contains**:\n- WorkflowEnvironment with time-skipping\n- ActivityEnvironment for activity testing\n- Fast execution of long-running workflows\n- Manual time advancement patterns\n- pytest fixtures and patterns\n\n### Integration Testing Resources\n**File**: `resources/integration-testing.md`\n**When to load**: Testing workflows with mocked external dependencies\n**Contains**:\n- Activity mocking strategies\n- Error injection patterns\n- Multi-activity workflow testing\n- Signal and query testing\n- Coverage strategies\n\n### Replay Testing Resources\n**File**: `resources/replay-testing.md`\n**When to load**: Validating determinism or deploying workflow changes\n**Contains**:\n- Determinism validation\n- Production history replay\n- CI/CD integration patterns\n- Version compatibility testing\n\n### Local Development Resources\n**File**: `resources/local-setup.md`\n**When to load**: Setting up development environment\n**Contains**:\n- Docker Compose configuration\n- pytest setup and configuration\n- Coverage tool integration\n- Development workflow\n\n## Quick Start Guide\n\n### Basic Workflow Test\n\n```python\nimport pytest\nfrom temporalio.testing import WorkflowEnvironment\nfrom temporalio.worker import Worker\n\n@pytest.fixture\nasync def workflow_env():\n    env = await WorkflowEnvironment.start_time_skipping()\n    yield env\n    await env.shutdown()\n\n@pytest.mark.asyncio\nasync def test_workflow(workflow_env):\n    async with Worker(\n        workflow_env.client,\n        task_queue=\"test-queue\",\n        workflows=[YourWorkflow],\n        activities=[your_activity],\n    ):\n        result = await workflow_env.client.execute_workflow(\n            YourWorkflow.run,\n            args,\n            id=\"test-wf-id\",\n            task_queue=\"test-queue\",\n        )\n        assert result == expected\n```\n\n### Basic Activity Test\n\n```python\nfrom temporalio.testing import ActivityEnvironment\n\nasync def test_activity():\n    env = ActivityEnvironment()\n    result = await env.run(your_activity, \"test-input\")\n    assert result == expected_output\n```\n\n## Coverage Targets\n\n**Recommended Coverage** (Source: docs.temporal.io best practices):\n- **Workflows**: \u226580% logic coverage\n- **Activities**: \u226580% logic coverage\n- **Integration**: Critical paths with mocked activities\n- **Replay**: All workflow versions before deployment\n\n## Key Testing Principles\n\n1. **Time-Skipping** - Month-long workflows test in seconds\n2. **Mock Activities** - Isolate workflow logic from external dependencies\n3. **Replay Testing** - Validate determinism before deployment\n4. **High Coverage** - \u226580% target for production workflows\n5. **Fast Feedback** - Unit tests run in milliseconds\n\n## How to Use Resources\n\n**Load specific resource when needed**:\n- \"Show me unit testing patterns\" \u2192 Load `resources/unit-testing.md`\n- \"How do I mock activities?\" \u2192 Load `resources/integration-testing.md`\n- \"Setup local Temporal server\" \u2192 Load `resources/local-setup.md`\n- \"Validate determinism\" \u2192 Load `resources/replay-testing.md`\n\n## Additional References\n\n- Python SDK Testing: docs.temporal.io/develop/python/testing-suite\n- Testing Patterns: github.com/temporalio/temporal/blob/main/docs/development/testing.md\n- Python Samples: github.com/temporalio/samples-python\n"
}